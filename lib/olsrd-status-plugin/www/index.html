<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>olsrd status</title>
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <style>
    body { padding: 20px; }
    .badge-env { font-size: 12px; margin-left: 8px; }
    pre { max-height: 400px; overflow:auto; background:#111; color:#0f0; padding:12px; }
    .tab-content { margin-top: 15px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="card">
        <ul class="nav nav-tabs" role="tablist" id="mainTabs">
          <li role="presentation" class="active"><a href="#main" aria-controls="main" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-info-sign"></span> Übersicht</a></li>
          <li role="presentation"><a href="#status" aria-controls="status" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-dashboard"></span> Status</a></li>
          <li role="presentation" id="tab-olsr2" style="display:none"><a href="#olsr2" aria-controls="olsr2" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-dashboard"></span> OLSRv2</a></li>
          <li role="presentation"><a href="#contact" aria-controls="contact" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-user"></span> Kontakt</a></li>
          <li role="presentation" id="tab-admin" style="display:none"><a href="#admin" aria-controls="admin" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-user"></span> Admin Login</a></li>
        </ul>
        <br>
        <div class="tab-content">
          <!-- Main TAB -->
          <div role="tabpanel" class="tab-pane active" id="main">
            <div class="page-header">
              <h1 id="hostname">Loading… <small id="ip"></small></h1>
            </div>
            <div class="panel panel-default">
              <div class="panel-body"><b>WAS?</b></div>
              <div class="panel-footer">FunkFeuer ist ein freies, experimentelles Netzwerk in Wien, Graz, der Weststeiermark, in Teilen des Weinviertels (NÖ) und in Bad Ischl. Es wird aufgebaut und betrieben von computerbegeisterten Menschen. Das Projekt verfolgt keine kommerziellen Interessen.</div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body"><b>FREI?</b></div>
              <div class="panel-footer">FunkFeuer ist offen für jeden und jede, der/die Interesse hat und bereit ist mitzuarbeiten. Es soll dabei ein nicht reguliertes Netzwerk entstehen, welches das Potential hat, den digitalen Graben zwischen den sozialen Schichten zu Überbrücken und so Infrastruktur und Wissen zur Verfügung zu stellen. Zur Teilnahme an FunkFeuer braucht man einen WLAN Router (gibt's ab 60 Euro) oder einen PC, das OLSR Programm, eine IP Adresse von FunkFeuer, etwas Geduld und Motivation. Auf unserer Karte ist eingezeichnet, wo man FunkFeuer schon überall (ungefähr) empfangen kann (bitte beachte, dass manchmal Häuser oder Ähnliches im Weg sind, dann geht's nur über Umwege).</div>
            </div>
          </div>
          <!-- Status TAB -->
          <div role="tabpanel" class="tab-pane" id="status">
            <dl class="dl-horizontal">
              <dt>System Uptime <span class="glyphicon glyphicon-time"></span></dt><dd id="uptime">Loading…</dd>
              <dt>mgmt Devices <span class="glyphicon glyphicon-signal"></span></dt><dd>
                <table class="table table-hover table-bordered table-condensed" id="devicesTable">
                  <thead><tr><td>Local IP</td><td>Hostname</td><td>Product</td><td>Uptime</td><td>Mode</td><td>ESSID</td><td>Firmware</td><td>Wireless</td></tr></thead>
                  <tbody></tbody>
                </table>
              </dd>
            </dl>
          </div>
          <!-- OLSRv2 TAB (hidden unless detected) -->
          <div role="tabpanel" class="tab-pane" id="olsr2">
            <pre id="olsr2info">Loading…</pre>
          </div>
          <!-- Contact TAB -->
          <div role="tabpanel" class="tab-pane" id="contact">
            <div class="panel panel-default">
              <div class="panel-body">Kontakt: <a href="mailto:office@funkfeuer.at">office@funkfeuer.at</a></div>
            </div>
          </div>
          <!-- Connections TAB -->
          <div role="tabpanel" class="tab-pane" id="connections">
            <div class="row" style="margin-bottom:8px">
              <div class="col-xs-8">
                <button id="refresh-connections" class="btn btn-default btn-sm">Refresh</button>
                <span id="connections-status" style="margin-left:12px"></span>
              </div>
              <div class="col-xs-4 text-right">
                <div class="input-group input-group-sm" style="width:260px; display:inline-block">
                  <input id="tr-host" type="text" class="form-control" placeholder="Traceroute target (ip or host)">
                  <span class="input-group-btn"><button id="tr-run" class="btn btn-primary">Trace</button></span>
                </div>
              </div>
            </div>
            <div id="connections-wrap">
              <table class="table table-hover table-bordered table-condensed" id="connectionsTable">
                <thead>
                  <tr>
                    <th data-key="port">Port</th>
                    <th data-key="bridge">Bridge</th>
                    <th data-key="macs">MACs</th>
                    <th data-key="ips">IPs</th>
                    <th data-key="hostname">Hostname</th>
                    <th data-key="notes">Notes</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <pre id="p-traceroute" style="display:none; background:#111; color:#0f0; padding:12px; max-height:360px; overflow:auto"></pre>
          </div>
          <!-- Versions TAB -->
          <div role="tabpanel" class="tab-pane" id="versions">
            <div class="row" style="margin-bottom:8px">
              <div class="col-xs-6">
                <button id="refresh-versions" class="btn btn-default btn-sm">Refresh</button>
                <span id="versions-status" style="margin-left:12px"></span>
              </div>
            </div>
            <div id="versions-wrap">
              <!-- friendly panel rendered by JS -->
            </div>
          </div>
          <!-- Admin TAB (hidden unless detected) -->
          <div role="tabpanel" class="tab-pane" id="admin">
            <div class="panel panel-default">
              <div class="panel-body">Admin Login: <a id="adminLink" href="#">Loading…</a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
    </div>
  </div>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
